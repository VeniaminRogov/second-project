{% trans_default_domain 'admin' %}

{% extends 'base.html.twig' %}

{% block title %}{{ 'products.title.all'|trans }}{% endblock %}
{% block pageTitle %}{{ 'products.title.all'|trans }}{% endblock %}
{% block content %}
{#    <div class="mb-5">#}
{#        {{ form(sortForm) }}#}
{#    </div>#}
    <div>
        <form id="form" name="form">
            <div class="mb-3 row">
                <label class="col-form-label col-sm-2" for="category">Category</label>
                <div class="col-sm-10">
                    <select id="category" name="category" class="form-select">
                        {% for category in categories %}
                            <option value="{{ category.id }}">{{ category.name }}</option>
                        {% endfor %}
                    </select>
                </div>
            </div>
            <div class="mb-3 row">
                <label class="col-form-label col-sm-2 required" for="products_form_name">Name</label>
                <div class="col-sm-10">
                    <input type="text" id="products_form_name" name="name" required="required" class="form-control">
                </div>
            </div>
            <div class="mb-3 row">
                <label class="col-form-label col-sm-2 required" for="products_form_description">Description</label>
                <div class="col-sm-10">
                    <input type="text" id="products_form_description" name="description" required="required" class="form-control">
                </div>
            </div>
            <div class="mb-3 row">
                <label class="col-form-label col-sm-2 required" for="products_form_price">Price</label>
                <div class="col-sm-10">
                    <input type="number" id="products_form_price" name="price" required="required" class="form-control">
                </div>
            </div>
            <div class="mb-3 row">
                <label class="col-form-label col-sm-2 required" for="products_form_quantity">Quantity</label>
                <div class="col-sm-10">
                    <input type="number" id="products_form_quantity" name="quantity" required="required" class="form-control">
                </div>
            </div>
            <div class="mb-3 row">
                <div class="col-sm-2"></div>
                <div class="col-sm-10">
                    <div class="form-check">
                        <input type="checkbox" id="products_form_isAvailable" name="isAvailable" class="form-check-input" value="true">
                        <label class="form-check-label" for="products_form_isAvailable">Active</label>
                    </div>
                </div>
            </div>
            <div class="mb-3 row">
                <label class="col-form-label col-sm-2" for="image">Image</label>
                <div class="col-sm-10 image">
                    <input type="file" id="image" name="image" class="form-control">
                </div>
            </div>
            <div class="mb-3 row">
                <div class="col-sm-2"></div>
                <div class="col-sm-10">
                    <button type="submit" id="products_form_save" name="save" class="btn-primary btn">add</button>
                </div>
            </div>
        </form>
    </div>

       <table class="table table-striped">
           <thead>
           <tr>
               <th scope="col">#</th>
               <th scope="col">{{ 'category.name'|trans }}</th>
               <th scope="col">{{ 'image'|trans }}</th>
               <th scope="col">{{ 'name'|trans }}</th>
               <th scope="col">{{ 'descr'|trans }}</th>
               <th scope="col">{{ 'price'|trans }}</th>
               <th scope="col">{{ 'quantity'|trans }}</th>
               <th scope="col">{{ 'is'|trans }}</th>
               <th scope="col">{{ 'created'|trans }}</th>
               <th scope="col">{{ 'updated'|trans }}</th>
               <th scope="col">{{ 'actions'|trans }}</th>
           </tr>
           </thead>
           <tbody>
{#           {% for product in pagination %}#}
{#               <tr>#}
{#                   <th scope="row">{{ product.id }}</th>#}
{#                   <td>#}
{#                       {{ product.category.name }}#}
{#                   </td>#}
{#                   <td>#}
{#                       {% if product.image == null %}#}

{#                       {% else %}#}
{#                       <img src="{{ (image_url ~ product.image) | imagine_filter('min_thumb') }}" alt="No found avatar">#}
{#                       {% endif %}#}
{#                   </td>#}
{#                   <td>{{ product.name }}</td>#}
{#                   <td>{{ product.description }}</td>#}
{#                   <td>{{ product.price }}</td>#}
{#                   <td>{{ product.quantity }}</td>#}
{#                   <td>#}
{#                       {% if product.isAvailable == true %}#}
{#                           <div class="d-flex align-items-center justify-content-center">#}
{#                               <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-check" viewBox="0 0 16 16">#}
{#                                   <path d="M10.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.267.267 0 0 1 .02-.022z"/>#}
{#                               </svg>#}
{#                           </div>#}
{#                       {% else %}#}

{#                       {% endif %}#}
{#                   </td>#}
{#                   <td>{{ product.createdAt|date("Y-m-d H:i") }}</td>#}
{#                   <td>{{ product.updatedAt|date("Y-m-d H:i") }}</td>#}
{#                   <td>#}
{#                       <a class="btn btn-primary" href="{{ path('manager_edit_products', {id: product.id}) }}">{{ 'eidt'|trans }}</a>#}
{#                       <a class="btn btn-danger" href="{{ path('manager_delete_products', {id: product.id}) }}">{{ 'delete'|trans }}</a>#}
{#                   </td>#}
{#               </tr>#}
{#           {% endfor %}#}
           </tbody>
       </table>
       <div class="navigation d-flex justify-content-center">
           {{ knp_pagination_render(pagination) }}
       </div>
{% endblock %}

{% block javascripts %}
    {{ parent() }}
    {{ encore_entry_script_tags('ajax_product_api') }}
{% endblock %}